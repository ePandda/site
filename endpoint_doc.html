
<section id="documentation-endpoint" class="container-full">
<div class="row">
	<div id="endpoint-header" class="col-12">
		<h2>ENDPOINTS</h2>
	</div>
</div>
 
<div class="row">
	<div class="col-12">
		<h2>Create Annotations</h2>
		<p>Endpoint: <a href="api.epandda.org/annotations/create" target="_blank">api.epandda.org/annotations/create</a><br/>
		Human created Annotations endpoint (ORCID verified )</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>orcid</td>
				<td>ORCID</td>
				<td>text</td>
				<td>False</td>
				<td>The unique identifier assigned by https://orcid.org/</td>
			</tr>
					 
			<tr>
				<td>email</td>
				<td>Email Address</td>
				<td>text</td>
				<td>False</td>
				<td>Email address associated with ORCID account</td>
			</tr>
					 
			<tr>
				<td>annotation_tye</td>
				<td>Annotation Type</td>
				<td>text</td>
				<td>False</td>
				<td>Match, Missing Data, Data Correction flag</td>
			</tr>
					 
			<tr>
				<td>target_url</td>
				<td>Annotation Target URL</td>
				<td>text</td>
				<td>False</td>
				<td>The URL for the target of the annotation ( specimen URL from iDigBio )</td>
			</tr>
					 
			<tr>
				<td>body_url</td>
				<td>Annotation Body URL</td>
				<td>text</td>
				<td>False</td>
				<td>The URL for the body of the annotation ( publication URL from PBDB )</td>
			</tr>
					 
			<tr>
				<td>body_title</td>
				<td>Annotation Body Title</td>
				<td>text</td>
				<td>False</td>
				<td>The Title of the annotation Body ( article title from PBDB )</td>
			</tr>
					 
			<tr>
				<td>body_doi</td>
				<td>Annotation Body DOI</td>
				<td>text</td>
				<td>False</td>
				<td>The DOI of the annotation Body</td>
			</tr>
					 
			<tr>
				<td>missing_data</td>
				<td>Missing Data</td>
				<td>text</td>
				<td>False</td>
				<td>List of key value pairs of missing data</td>
			</tr>
					 
			<tr>
				<td>data_correction</td>
				<td>Data Correction</td>
				<td>text</td>
				<td>False</td>
				<td>List of key value pairs with description of why data correction fixes issue</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
<div class="row">
	<div class="col-12">
		<h2>Full Result Response</h2>
		<p>Endpoint: <a href="api.epandda.org/full_match_results" target="_blank">api.epandda.org/full_match_results</a><br/>
		Returns full data sets for matching criteria returned from the main Occurrence endpoint</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>sourceQuery</td>
				<td>Source Query</td>
				<td>text</td>
				<td>False</td>
				<td>The query to the source collection as a JSON string</td>
			</tr>
					 
			<tr>
				<td>matchQuery</td>
				<td>Match Query</td>
				<td>text</td>
				<td>False</td>
				<td>The query to the matched collection as a JSON string</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
<div class="row">
	<div class="col-12">
		<h2>Publications Index</h2>
		<p>Endpoint: <a href="api.epandda.org/es_publications" target="_blank">api.epandda.org/es_publications</a><br/>
		Searches PBDB and iDigBio for publication <=> specimen matches and returns match groups based on taxonomy, bibliograhy and locality</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>terms</td>
				<td>Search terms</td>
				<td>text</td>
				<td>False</td>
				<td>Search field and term pairs. Formatted in a pipe delimited list with field and term separated by a colon. For example: genus:hadrosaurus|country:united states</td>
			</tr>
					 
			<tr>
				<td>matchOn</td>
				<td>Match on</td>
				<td>text</td>
				<td>False</td>
				<td>By default this matches records based on locality, taxonomy and chronostratigraphy. Set this parameter to skip matching on one of these fields</td>
			</tr>
					 
			<tr>
				<td>chronoMatchLevel</td>
				<td>Chronostratigraphy match leve</td>
				<td>text</td>
				<td>False</td>
				<td>The geologic time unit to use in matching records. Allowed values: age|epoch|period|era</td>
			</tr>
					 
			<tr>
				<td>taxonMatchLevel</td>
				<td>Taxonomy match level</td>
				<td>text</td>
				<td>False</td>
				<td>The taxonomic rank to use in matching records. Allowed values: scientificName|genus|family|order|class|phylum|kingdom</td>
			</tr>
					 
			<tr>
				<td>localityMatchLevel</td>
				<td>Locality match level</td>
				<td>text</td>
				<td>False</td>
				<td>The geographic unit to use in matching records. Allowed values: geopoint|locality|county|state|country</td>
			</tr>
					 
			<tr>
				<td>searchFrom</td>
				<td>Last returned record to search from</td>
				<td>text</td>
				<td>False</td>
				<td>This implements paging in a more effecient way in ElasticSearch. It should be provided the last return search result in order to request a subsequent page of search results</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
<div class="row">
	<div class="col-12">
		<h2>Occurrence Index</h2>
		<p>Endpoint: <a href="api.epandda.org/es_occurrences" target="_blank">api.epandda.org/es_occurrences</a><br/>
		Searches PBDB and iDigBio for occurrences and returns match groups based on taxonomy, chronostratigraphy and locality</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>terms</td>
				<td>Search terms</td>
				<td>text</td>
				<td>False</td>
				<td>Search field and term pairs. Formatted in a pipe delimited list with field and term separated by a colon. For example: genus:hadrosaurus|country:united states</td>
			</tr>
					 
			<tr>
				<td>matchOn</td>
				<td>Match on</td>
				<td>text</td>
				<td>False</td>
				<td>By default this matches records based on locality, taxonomy and chronostratigraphy. Set this parameter to skip matching on one of these fields</td>
			</tr>
					 
			<tr>
				<td>chronoMatchLevel</td>
				<td>Chronostratigraphy match level</td>
				<td>text</td>
				<td>False</td>
				<td>The geologic time unit to use in matching records. Allowed values: age|epoch|period|era</td>
			</tr>
					 
			<tr>
				<td>taxonMatchLevel</td>
				<td>Taxonomy match level</td>
				<td>text</td>
				<td>False</td>
				<td>The taxonomic rank to use in matching records. Allowed values: scientificName|genus|family|order|class|phylum|kingdom</td>
			</tr>
					 
			<tr>
				<td>localityMatchLevel</td>
				<td>Locality match level</td>
				<td>text</td>
				<td>False</td>
				<td>The geographic unit to use in matching records. Allowed values: geopoint|locality|county|state|country</td>
			</tr>
					 
			<tr>
				<td>geoPointFields</td>
				<td>Search by georeference</td>
				<td>text</td>
				<td>False</td>
				<td>Search records by georeference, either by distance from a point, within a bounding box or within a polygon</td>
			</tr>
					 
			<tr>
				<td>idigbioSearchFrom</td>
				<td>iDigBio ;ast returned record to search from</td>
				<td>text</td>
				<td>False</td>
				<td>This implements paging in a more effecient way in ElasticSearch. It should be provided the last return search result in order to request a subsequent page of search results</td>
			</tr>
					 
			<tr>
				<td>pbdbSearchFrom</td>
				<td>PBDB last returned record to search from</td>
				<td>text</td>
				<td>False</td>
				<td>This implements paging in a more effecient way in ElasticSearch. It should be provided the last return search result in order to request a subsequent page of search results</td>
			</tr>
					 
			<tr>
				<td>returnMedia</td>
				<td>Return media from iDigBio</td>
				<td>boolean</td>
				<td>False</td>
				<td>Toggle to return any matching media from iDigBio</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
<div class="row">
	<div class="col-12">
		<h2>Annotations</h2>
		<p>Endpoint: <a href="api.epandda.org/annotations" target="_blank">api.epandda.org/annotations</a><br/>
		Returns openAnnotations for linked data in ePANDDA.</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>annotationDate</td>
				<td>Annotation Date</td>
				<td>text</td>
				<td>False</td>
				<td>Filter annotation results by provided date ( simple date match ). Format annotationDate=YYYY-MM-DD</td>
			</tr>
					 
			<tr>
				<td>annotationDateAfter</td>
				<td>Annotation Date After</td>
				<td>text</td>
				<td>False</td>
				<td>Filter annotation results equal to or after provided date. Format annotationDateAfter=YYYY-MM-DD</td>
			</tr>
					 
			<tr>
				<td>annotationDateBefore</td>
				<td>Annotation Date Before</td>
				<td>text</td>
				<td>False</td>
				<td>Filter annotation results before provided date. Format annotationDateBefore=YYYY-MM-DD</td>
			</tr>
					 
			<tr>
				<td>quality_score</td>
				<td>Quality Score</td>
				<td>text</td>
				<td>False</td>
				<td>Filter annotation results equal to or greater than value</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
<div class="row">
	<div class="col-12">
		<h2>ePandda Bug Reports</h2>
		<p>Endpoint: <a href="api.epandda.org/bug_report" target="_blank">api.epandda.org/bug_report</a><br/>
		File Bug Reports Here</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>email</td>
				<td>Email</td>
				<td>text</td>
				<td>False</td>
				<td>Your email address</td>
			</tr>
					 
			<tr>
				<td>message</td>
				<td>Message</td>
				<td>text</td>
				<td>False</td>
				<td>Body of your message</td>
			</tr>
					 
			<tr>
				<td>subject</td>
				<td>Subject</td>
				<td>boolean</td>
				<td>False</td>
				<td>The Subject of your message</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
<div class="row">
	<div class="col-12">
		<h2>API statistics</h2>
		<p>Endpoint: <a href="api.epandda.org/stats" target="_blank">api.epandda.org/stats</a><br/>
		Interesting API statistics</p>
			 
		<table class="parameterTable">
			<tr>
				<th>Name</th>
				<th>Label</th>
				<th>Type</th>
				<th>Required?</th>
				<th>Description</th>
			</tr>
			 
			<tr>
				<td>stateProvinces</td>
				<td>States/Provinces</td>
				<td>boolean</td>
				<td>False</td>
				<td>The number of unique states represented in the collections</td>
			</tr>
					 
			<tr>
				<td>countries</td>
				<td>Countries</td>
				<td>boolean</td>
				<td>False</td>
				<td>The number of unique countries represented in the collections</td>
			</tr>
					 
			<tr>
				<td>counties</td>
				<td>Counties</td>
				<td>boolean</td>
				<td>False</td>
				<td>The number of unique counties represented in the collections</td>
			</tr>
					 
			<tr>
				<td>localities</td>
				<td>Localities</td>
				<td>boolean</td>
				<td>False</td>
				<td>The number of unique localities represented in the collections</td>
			</tr>
					 
			<tr>
				<td>geoPoints</td>
				<td>Geographic Coordinates</td>
				<td>boolean</td>
				<td>False</td>
				<td>The number of unique geographic coordinates represented in the collections</td>
			</tr>
					 
			<tr>
				<td>totalRecords</td>
				<td>Total Records</td>
				<td>boolean</td>
				<td>False</td>
				<td>The count of all specimen/occurrence records included in project from iDigBio and PBDB</td>
			</tr>
					 
			<tr>
				<td>lastUpdated</td>
				<td>Last Updated</td>
				<td>boolean</td>
				<td>False</td>
				<td>The last time an update was run to import new records from iDigBio or PBDB</td>
			</tr>
					 
			<tr>
				<td>taxonomies</td>
				<td>Taxonomies</td>
				<td>boolean</td>
				<td>False</td>
				<td>The number of unique taxonomic hierarchies represented in the collections</td>
			</tr>
					 
		</table>
	</div>
</div>
			 
</section>
